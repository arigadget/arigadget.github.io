<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Create your car application - Donkey Car(JP)</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="https://fonts.googleapis.com/earlyaccess/notosansjp.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet">
  <link href="../../css/custom.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Create your car application";
    var mkdocs_page_input_path = "guide\\create_application.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Donkey Car(JP)</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">About Donkey&reg;</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contribute/">Contribute to Donkey</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../legacy/">Legacy</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../release/">Release notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../roll_your_own/">Roll Your Own Car</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../supported_cars/">Supported cars</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../tests/">Tests</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../build_hardware/">How to Build a Donkey&reg;</a>
                </li>
                <li class="">
                    
    <a class="" href="../calibrate/">Calibrate your Car</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Create your car application</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#create-your-car-application">Create your car application</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#create-donkeycar-from-template">Create Donkeycar from Template</a></li>
        
            <li><a class="toctree-l4" href="#configure-options">Configure Options</a></li>
        
            <li><a class="toctree-l4" href="#sombrero-setup">Sombrero Setup</a></li>
        
            <li><a class="toctree-l4" href="#joystick-setup">Joystick setup</a></li>
        
            <li><a class="toctree-l4" href="#camera-setup">Camera Setup</a></li>
        
            <li><a class="toctree-l4" href="#troubleshooting">Troubleshooting</a></li>
        
            <li><a class="toctree-l4" href="#keeping-things-up-to-date">Keeping Things Up To Date</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../get_driving/">Drive your car</a>
                </li>
                <li class="">
                    
    <a class="" href="../install_software/">Install software</a>
                </li>
                <li class="">
                    
    <a class="" href="../simulator/">Donkey Simulator</a>
                </li>
                <li class="">
                    
    <a class="" href="../train_autopilot/">Train an autopilot with Keras</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Host pc</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../host_pc/setup_mac/">Setup mac</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../host_pc/setup_ubuntu/">Install Donkeycar on Linux</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../host_pc/setup_windows/">Setup windows</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Robot sbc</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../robot_sbc/setup_jetson_nano/">Get Your Jetson Nano Working</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../robot_sbc/setup_raspberry_pi/">Get Your Raspberry Pi Working</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../robot_sbc/tensorrt_jetson_nano/">A Guide to using TensorRT on the Nvidia Jetson Nano</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Parts</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../parts/about/">What is a Part</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/actuators/">Acutators</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/controllers/">Controller Parts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/imu/">IMU</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/keras/">Keras Parts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/stores/">Stores</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Utility</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../utility/donkey/">Donkey Command-line Utilities</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Donkey Car(JP)</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Guide &raquo;</li>
        
      
    
    <li>Create your car application</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="create-your-car-application">Create your car application</h1>
<p>If you are not already, please <a href="/guide/robot_sbc/setup_raspberry_pi/#step-5-connecting-to-the-pi">ssh into your vehicle</a>.</p>
<h2 id="create-donkeycar-from-template">Create Donkeycar from Template</h2>
<p>Create a set of files to control your Donkey with this command:</p>
<pre><code class="bash">donkey createcar --path ~/mycar
</code></pre>

<p>See also more information on <a href="/utility/donkey/#create-car">createcar.</a></p>
<h2 id="configure-options">Configure Options</h2>
<p>Look at <strong>myconfig.py</strong> in your newly created directory, ~/mycar</p>
<pre><code class="bash">cd ~/mycar
nano myconfig.py
</code></pre>

<p>Each line has a comment mark. The commented text shows the default value. When you want to make an edit to over-write the default, uncomment the line by removing the # and any spaces before the first character of the option.</p>
<p>example:</p>
<pre><code class="python"># STEERING_LEFT_PWM = 460
</code></pre>

<p>becomes:</p>
<pre><code class="python">STEERING_LEFT_PWM = 500
</code></pre>

<p>when edited. You will adjust these later in the <a href="/guide/calibrate/">calibrate</a> section.</p>
<h3 id="configure-i2c-pca9685">Configure I2C PCA9685</h3>
<p>If you are using a PCA9685 card, make sure you can see it on I2C.</p>
<p><strong>Jetson Nano</strong>:</p>
<pre><code class="bash">sudo usermod -aG i2c $USER
sudo reboot
</code></pre>

<p>After a reboot, then try:</p>
<pre><code class="bash">sudo i2cdetect -r -y 1
</code></pre>

<p><strong>Raspberry Pi</strong>:</p>
<pre><code class="bash">sudo apt-get install -y i2c-tools
sudo i2cdetect -y 1
</code></pre>

<p>This should show you a grid of addresses like:</p>
<pre><code class="text">     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: 40 -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
70: 70 -- -- -- -- -- -- --
</code></pre>

<p>In this case, the 40 shows up as the address of our PCA9685 board. If this does not show up, then check your wiring to the board. On a pi, ensure I2C is enabled in menu of <code>sudo raspi-config</code> (notice, it suggest reboot).</p>
<p>If you have assigned a non-standard address to your board, then adjust the address in the <code>myconfig.py</code> under variable <code>PCA9685_I2C_ADDR</code>. If your board is on another bus, then you can specify that with the <code>PCA9685_I2C_BUSNUM</code>.</p>
<p><strong>Jetson Nano</strong>: set <code>PCA9685_I2C_BUSNUM = 1</code> in your <strong>myconfig.py</strong> . For the pi, this will be auto detected by the Adafruit library. But not on the Jetson Nano.</p>
<h2 id="sombrero-setup">Sombrero Setup</h2>
<p>Set <code>HAVE_SOMBRERO = True</code> in your <strong>myconfig.py</strong> if you have a sombrero board.</p>
<h2 id="joystick-setup">Joystick setup</h2>
<p>If you plan to use a joystick, take a side track over to <a href="/parts/controllers/#joystick-controller">here</a>.</p>
<h2 id="camera-setup">Camera Setup</h2>
<p><strong>Raspberry Pi</strong>:</p>
<p>If you are on a raspberry pi and using the recommended pi camera, then no changes are needed to your <strong>myconfg.py</strong>. </p>
<p><strong>Jetson Nano</strong>:</p>
<p>When using a Sony IMX219 based camera, and you are using the default car template, then you will want edit your <strong>myconfg.py</strong> to have:
<code>CAMERA_TYPE = "CSIC"</code>.
For flipping the image vertically set <code>CSIC_CAM_GSTREAMER_FLIP_PARM = 3</code> - this is helpful if you have to mount the camera in a rotated position.
Set <code>IMAGE_W = 224</code> and also <code>IMAGE_H = 224</code>.</p>
<p>CVCAM is a camera type that has worked for USB cameras when OpenCV is setup. This requires additional setup for <a href="/guide/robot_sbc/setup_jetson_nano/#step-4-install-opencv">OpenCV for Nano</a> or <a href="https://www.learnopencv.com/install-opencv-4-on-raspberry-pi/">OpenCV for Raspberry Pi</a>.</p>
<p>WEBCAM is a camera type that uses the pygame library, also typically for USB cameras. That requires additional setup for <a href="https://www.pygame.org/wiki/GettingStarted">pygame</a>.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>If you are having troubles with your camera, check out our <a href="https://donkey.discourse.group/t/faq-troubleshooting/33">Discourse FAQ for hardware troubleshooting</a>. Check this forum for more help.</p>
<h2 id="keeping-things-up-to-date">Keeping Things Up To Date</h2>
<p>Make all config changes to <strong>myconfig.py</strong> and they will be preserved through an update. If you are a long time user, you might be used to editing config.py. You should switch to editing myconfig.py instead. Later on, when changes occur that you would like to get, you can pull latest code, then issue a:</p>
<pre><code class="bash">cd projects/donkeycar
git pull
donkey createcar --path ~/mycar --overwrite
</code></pre>

<p>Your ~/mycar/manage.py, ~/mycar/config.py and other files will change with this operation, but <strong>myconfig.py</strong> will not be touched. Your <strong>data</strong> and <strong>models</strong> dirs will not be touched.</p>
<blockquote>
<p>Note: If you are updating from Donkey&lt;3.0 to 3.0+ it is very likely you will need to start over with a new virtual environment. We've had a few users hit this snag.</p>
</blockquote>
<hr />
<h3 id="next-calibrate-your-car">Next <a href="/guide/calibrate/">calibrate your car</a>.</h3>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../get_driving/" class="btn btn-neutral float-right" title="Drive your car">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../calibrate/" class="btn btn-neutral" title="Calibrate your Car"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../calibrate/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../get_driving/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
